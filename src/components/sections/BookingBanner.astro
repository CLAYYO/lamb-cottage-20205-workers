---
// Booking Banner section with call-to-action and dynamic background
export interface Props {
  content?: {
    title?: string;
    subtitle?: string;
    backgroundImage?: {
      src?: string;
      alt?: string;
      opacity?: number;
    };
    primaryButton?: {
      text?: string;
      url?: string;
    };
  };
}

const { content } = Astro.props;
---

<section class="py-16 lg:py-20 relative overflow-hidden">
  <!-- Background Image -->
  {content?.backgroundImage?.src && (
    <div class="absolute inset-0 z-0">
      <img 
        src={content.backgroundImage.src} 
        alt={content.backgroundImage.alt || 'Booking banner background'} 
        class="w-full h-full object-cover"
      />
      <div 
        class="absolute inset-0 bg-gradient-to-r from-lamb-green-dark to-lamb-green-medium" 
        style={`opacity: ${content.backgroundImage.opacity || 0.8}`}
      ></div>
    </div>
  )}
  
  <!-- Fallback background if no image -->
  {!content?.backgroundImage?.src && (
    <div class="absolute inset-0 bg-gradient-to-r from-lamb-green-dark to-lamb-green-medium z-0"></div>
  )}
  <!-- Background Pattern -->
  <div class="absolute inset-0 opacity-10 z-5">
    <div class="absolute inset-0" style="background-image: url('data:image/svg+xml,%3Csvg width=&quot;60&quot; height=&quot;60&quot; viewBox=&quot;0 0 60 60&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;%3E%3Cg fill=&quot;none&quot; fill-rule=&quot;evenodd&quot;%3E%3Cg fill=&quot;%23ffffff&quot; fill-opacity=&quot;0.1&quot;%3E%3Ccircle cx=&quot;30&quot; cy=&quot;30&quot; r=&quot;2&quot;/%3E%3C/g%3E%3C/g%3E%3C/svg%3E');"></div>
  </div>
  
  <div class="max-w-7xl mx-auto px-4 relative z-10">
    <div class="text-center space-y-8">
      <!-- Main Heading -->
      <div class="space-y-4">
        <h2 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-white leading-tight">
          {content?.title || 'Ready for Your'}
          <span class="block text-lamb-green-light">
            {content?.title ? '' : 'Perfect Getaway?'}
          </span>
        </h2>
        <div class="w-24 h-1 bg-white rounded-full mx-auto"></div>
      </div>
      
      <!-- Supporting Text -->
      <p class="text-lg sm:text-xl text-lamb-green-light max-w-3xl mx-auto leading-relaxed">
        {content?.subtitle || 'Book your stay at Lamb Cottage Caravan Park today and experience the perfect blend of countryside tranquility and modern comfort. Limited availability - secure your dates now!'}
      </p>
      
      <!-- Features Grid -->
      <div class="grid grid-cols-1 sm:grid-cols-3 gap-6 max-w-4xl mx-auto mt-12">
        <div class="text-center space-y-2">
          <div class="w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-3">
            <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"></path>
            </svg>
          </div>
          <h3 class="font-semibold text-white text-lg">Easy Booking</h3>
          <p class="text-lamb-green-light text-sm">Quick online reservation system</p>
        </div>
        
        <div class="text-center space-y-2">
          <div class="w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-3">
            <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
            </svg>
          </div>
          <h3 class="font-semibold text-white text-lg">Best Rates</h3>
          <p class="text-lamb-green-light text-sm">Guaranteed lowest prices direct</p>
        </div>
        
        <div class="text-center space-y-2">
          <div class="w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-3">
            <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20">
              <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"></path>
            </svg>
          </div>
          <h3 class="font-semibold text-white text-lg">24/7 Support</h3>
          <p class="text-lamb-green-light text-sm">We're here to help anytime</p>
        </div>
      </div>
      
      <!-- Call-to-Action Buttons -->
      <div class="flex flex-col sm:flex-row gap-4 justify-center items-center mt-12">
        <a 
          href={content?.primaryButton?.url || "#booking"} 
          class="bg-white text-lamb-green-dark px-8 py-4 rounded-lg font-semibold hover:bg-lamb-green-light hover:text-lamb-green-dark transform hover:scale-105 transition-all duration-200 shadow-large hover:shadow-xl flex items-center space-x-2 min-w-[200px] justify-center"
        >
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"></path>
          </svg>
          <span>{content?.primaryButton?.text || "Book Online Now"}</span>
        </a>
        
        <a 
          href="tel:01234567890" 
          class="border-2 border-white text-white px-8 py-4 rounded-lg font-semibold hover:bg-white hover:text-lamb-green-dark transform hover:scale-105 transition-all duration-200 flex items-center space-x-2 min-w-[200px] justify-center"
        >
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
            <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"></path>
          </svg>
          <span>Call to Book</span>
        </a>
      </div>
      
      <!-- Urgency Message -->
      <div class="mt-8 p-4 bg-white bg-opacity-10 rounded-lg border border-white border-opacity-20 max-w-2xl mx-auto">
        <div class="flex items-center justify-center space-x-2 text-white">
          <svg class="w-5 h-5 text-lamb-green-light" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
          </svg>
          <span class="font-medium">Limited Availability</span>
          <span class="text-lamb-green-light">â€¢</span>
          <span class="text-lamb-green-light">Book early to avoid disappointment</span>
        </div>
      </div>
      
      <!-- Trust Indicators -->
      <div class="flex flex-wrap justify-center items-center gap-8 mt-12 opacity-80">
        <div class="flex items-center space-x-2 text-white">
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
          </svg>
          <span class="text-sm">Secure Booking</span>
        </div>
        
        <div class="flex items-center space-x-2 text-white">
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
          </svg>
          <span class="text-sm">Instant Confirmation</span>
        </div>
        
        <div class="flex items-center space-x-2 text-white">
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
          <span class="text-sm">No Hidden Fees</span>
        </div>
        
        <div class="flex items-center space-x-2 text-white">
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z" clip-rule="evenodd"></path>
          </svg>
          <span class="text-sm">Free Cancellation</span>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Decorative Elements -->
  <div class="absolute top-0 left-0 w-32 h-32 bg-white bg-opacity-5 rounded-full -translate-x-16 -translate-y-16"></div>
  <div class="absolute bottom-0 right-0 w-48 h-48 bg-white bg-opacity-5 rounded-full translate-x-24 translate-y-24"></div>
</section>

<style>
  /* Gradient animation */
  .bg-gradient-to-r {
    background-size: 200% 200%;
    animation: gradientShift 8s ease-in-out infinite;
  }
  
  @keyframes gradientShift {
    0%, 100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }
  
  /* Hover effects */
  .transform {
    transition: all 0.2s ease-in-out;
  }
  
  .hover\:scale-105:hover {
    transform: scale(1.05) translateY(-2px);
  }
  
  /* Button animations */
  a:hover {
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
  }
  
  /* Responsive adjustments */
  @media (max-width: 640px) {
    .min-w-[200px] {
      min-width: 100%;
    }
  }
  
  /* Pulse animation for urgency */
  .bg-opacity-10 {
    animation: pulse 3s ease-in-out infinite;
  }
  
  @keyframes pulse {
    0%, 100% {
      opacity: 0.1;
    }
    50% {
      opacity: 0.15;
    }
  }
</style>