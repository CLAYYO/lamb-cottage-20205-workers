---
// Facilities section with icon grid and dynamic background
export interface Props {
  content?: {
    title?: string;
    subtitle?: string;
    backgroundImage?: {
      src?: string;
      alt?: string;
      opacity?: number;
    };
    items?: Array<{
      name: string;
      description: string;
      icon: string;
    }>;
  };
}

const { content } = Astro.props;
---

<section id="facilities" class="py-16 lg:py-24 relative text-white">
  <!-- Background Image -->
  {content?.backgroundImage?.src && (
    <div class="absolute inset-0 z-0">
      <img 
        id="facilities-bg-image"
        src={content.backgroundImage.src} 
        alt={content.backgroundImage.alt || 'Facilities background'} 
        class="w-full h-full object-cover"
        data-editable="true"
        data-section="facilities"
        data-field="backgroundImage.src"
      />
      <div 
        class="absolute inset-0 bg-lamb-green-dark" 
        style={`opacity: ${content.backgroundImage.opacity || 0.8}`}
      ></div>
    </div>
  )}
  
  <!-- Fallback background if no image -->
  {!content?.backgroundImage?.src && (
    <div 
      id="facilities-bg-placeholder"
      class="absolute inset-0 bg-lamb-green-dark z-0 flex items-center justify-center"
      data-editable="true"
      data-section="facilities"
      data-field="backgroundImage.src"
    >
      <div class="text-white/50 text-center">
        <p class="text-lg font-medium">Click to add background image</p>
      </div>
    </div>
  )}
  <div class="max-w-7xl mx-auto px-4 relative z-10">
    <!-- Section Header -->
    <div class="text-center space-y-6 mb-16">
      <h2 class="text-3xl sm:text-4xl lg:text-5xl font-bold leading-tight">
        {content?.title || 'Modern Facilities &'}
        <span class="block text-lamb-green-light">
          {content?.title ? '' : 'Premium Amenities'}
        </span>
      </h2>
      <div class="w-24 h-1 bg-lamb-green-light rounded-full mx-auto"></div>
      <p class="text-lg sm:text-xl text-gray-200 max-w-3xl mx-auto leading-relaxed">
        {content?.subtitle || 'Discover our comprehensive range of facilities designed to make your stay comfortable, convenient, and memorable.'}
      </p>
    </div>
    
    <!-- Facilities Grid -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 lg:gap-8">
      <!-- Electric Hook-ups -->
      <div class="bg-white/10 backdrop-blur-sm rounded-xl p-6 hover:bg-white/15 transition-all duration-300 hover:transform hover:scale-105">
        <div class="flex flex-col items-center text-center space-y-4">
          <div class="w-16 h-16 bg-lamb-green-light rounded-full flex items-center justify-center">
            <svg class="w-8 h-8 text-lamb-green-dark" fill="currentColor" viewBox="0 0 20 20">
              <path d="M11 3a1 1 0 10-2 0v1a1 1 0 102 0V3zM15.657 5.757a1 1 0 00-1.414-1.414l-.707.707a1 1 0 001.414 1.414l.707-.707zM18 10a1 1 0 01-1 1h-1a1 1 0 110-2h1a1 1 0 011 1zM5.05 6.464A1 1 0 106.464 5.05l-.707-.707a1 1 0 00-1.414 1.414l.707.707zM5 10a1 1 0 01-1 1H3a1 1 0 110-2h1a1 1 0 011 1zM8 16v-1h4v1a2 2 0 11-4 0zM12 14c.015-.34.208-.646.477-.859a4 4 0 10-4.954 0c.27.213.462.519.477.859h4z"></path>
            </svg>
          </div>
          <h3 class="text-lg font-semibold">Electric Hook-ups</h3>
          <p class="text-gray-200 text-sm leading-relaxed">
            Full electric connections available for all pitches with modern safety standards.
          </p>
        </div>
      </div>
      
      <!-- Water & Drainage -->
      <div class="bg-white/10 backdrop-blur-sm rounded-xl p-6 hover:bg-white/15 transition-all duration-300 hover:transform hover:scale-105">
        <div class="flex flex-col items-center text-center space-y-4">
          <div class="w-16 h-16 bg-lamb-green-light rounded-full flex items-center justify-center">
            <svg class="w-8 h-8 text-lamb-green-dark" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M5.05 3.636a1 1 0 010 1.414 7 7 0 000 9.9 1 1 0 11-1.414 1.414 9 9 0 010-12.728 1 1 0 011.414 0zm9.9 0a1 1 0 011.414 0 9 9 0 010 12.728 1 1 0 11-1.414-1.414 7 7 0 000-9.9 1 1 0 010-1.414zM7.879 6.464a1 1 0 010 1.414 3 3 0 000 4.243 1 1 0 11-1.415 1.414 5 5 0 010-7.07 1 1 0 011.415 0zm4.242 0a1 1 0 011.415 0 5 5 0 010 7.072 1 1 0 01-1.415-1.415 3 3 0 000-4.242 1 1 0 010-1.415zM10 9a1 1 0 011 1v.01a1 1 0 11-2 0V10a1 1 0 011-1z" clip-rule="evenodd"></path>
            </svg>
          </div>
          <h3 class="text-lg font-semibold">Water & Drainage</h3>
          <p class="text-gray-200 text-sm leading-relaxed">
            Fresh water supply and waste water drainage points conveniently located.
          </p>
        </div>
      </div>
      
      <!-- Modern Shower Block -->
      <div class="bg-white/10 backdrop-blur-sm rounded-xl p-6 hover:bg-white/15 transition-all duration-300 hover:transform hover:scale-105">
        <div class="flex flex-col items-center text-center space-y-4">
          <div class="w-16 h-16 bg-lamb-green-light rounded-full flex items-center justify-center">
            <svg class="w-8 h-8 text-lamb-green-dark" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path>
            </svg>
          </div>
          <h3 class="text-lg font-semibold">Modern Shower Block</h3>
          <p class="text-gray-200 text-sm leading-relaxed">
            Clean, heated facilities with hot showers and modern amenities.
          </p>
        </div>
      </div>
      
      <!-- Laundry Facilities -->
      <div class="bg-white/10 backdrop-blur-sm rounded-xl p-6 hover:bg-white/15 transition-all duration-300 hover:transform hover:scale-105">
        <div class="flex flex-col items-center text-center space-y-4">
          <div class="w-16 h-16 bg-lamb-green-light rounded-full flex items-center justify-center">
            <svg class="w-8 h-8 text-lamb-green-dark" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 000 2h6a1 1 0 100-2H7z" clip-rule="evenodd"></path>
            </svg>
          </div>
          <h3 class="text-lg font-semibold">Laundry Facilities</h3>
          <p class="text-gray-200 text-sm leading-relaxed">
            Washing machines and tumble dryers available for guest use.
          </p>
        </div>
      </div>
      
      <!-- WiFi Internet -->
      <div class="bg-white/10 backdrop-blur-sm rounded-xl p-6 hover:bg-white/15 transition-all duration-300 hover:transform hover:scale-105">
        <div class="flex flex-col items-center text-center space-y-4">
          <div class="w-16 h-16 bg-lamb-green-light rounded-full flex items-center justify-center">
            <svg class="w-8 h-8 text-lamb-green-dark" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M17.778 8.222c-4.296-4.296-11.26-4.296-15.556 0A1 1 0 01.808 6.808c5.076-5.077 13.308-5.077 18.384 0a1 1 0 01-1.414 1.414zM14.95 11.05a7 7 0 00-9.9 0 1 1 0 01-1.414-1.414 9 9 0 0112.728 0 1 1 0 01-1.414 1.414zM12.12 13.88a3 3 0 00-4.242 0 1 1 0 01-1.415-1.415 5 5 0 017.072 0 1 1 0 01-1.415 1.415zM9 16a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1z" clip-rule="evenodd"></path>
            </svg>
          </div>
          <h3 class="text-lg font-semibold">Free WiFi</h3>
          <p class="text-gray-200 text-sm leading-relaxed">
            Complimentary high-speed internet access throughout the park.
          </p>
        </div>
      </div>
      
      <!-- Children's Play Area -->
      <div class="bg-white/10 backdrop-blur-sm rounded-xl p-6 hover:bg-white/15 transition-all duration-300 hover:transform hover:scale-105">
        <div class="flex flex-col items-center text-center space-y-4">
          <div class="w-16 h-16 bg-lamb-green-light rounded-full flex items-center justify-center">
            <svg class="w-8 h-8 text-lamb-green-dark" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"></path>
            </svg>
          </div>
          <h3 class="text-lg font-semibold">Children's Play Area</h3>
          <p class="text-gray-200 text-sm leading-relaxed">
            Safe and fun playground equipment for children of all ages.
          </p>
        </div>
      </div>
      
      <!-- Pet-Friendly -->
      <div class="bg-white/10 backdrop-blur-sm rounded-xl p-6 hover:bg-white/15 transition-all duration-300 hover:transform hover:scale-105">
        <div class="flex flex-col items-center text-center space-y-4">
          <div class="w-16 h-16 bg-lamb-green-light rounded-full flex items-center justify-center">
            <svg class="w-8 h-8 text-lamb-green-dark" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"></path>
            </svg>
          </div>
          <h3 class="text-lg font-semibold">Pet-Friendly</h3>
          <p class="text-gray-200 text-sm leading-relaxed">
            Well-behaved pets welcome with designated walking areas.
          </p>
        </div>
      </div>
      
      <!-- 24/7 Security -->
      <div class="bg-white/10 backdrop-blur-sm rounded-xl p-6 hover:bg-white/15 transition-all duration-300 hover:transform hover:scale-105">
        <div class="flex flex-col items-center text-center space-y-4">
          <div class="w-16 h-16 bg-lamb-green-light rounded-full flex items-center justify-center">
            <svg class="w-8 h-8 text-lamb-green-dark" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
            </svg>
          </div>
          <h3 class="text-lg font-semibold">24/7 Security</h3>
          <p class="text-gray-200 text-sm leading-relaxed">
            Round-the-clock security and on-site management for peace of mind.
          </p>
        </div>
      </div>
    </div>
    
    <!-- Additional Features Section -->
    <div class="mt-16 pt-12 border-t border-white/20">
      <div class="text-center space-y-8">
        <h3 class="text-2xl sm:text-3xl font-bold text-lamb-green-light">
          Additional Amenities
        </h3>
        
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 text-center">
          <div class="space-y-2">
            <div class="text-lamb-green-light font-semibold">Reception Services</div>
            <p class="text-gray-200 text-sm">Friendly staff available to assist with bookings and information</p>
          </div>
          
          <div class="space-y-2">
            <div class="text-lamb-green-light font-semibold">Waste Disposal</div>
            <p class="text-gray-200 text-sm">Convenient waste and recycling points throughout the park</p>
          </div>
          
          <div class="space-y-2">
            <div class="text-lamb-green-light font-semibold">Car Parking</div>
            <p class="text-gray-200 text-sm">Ample parking spaces available for all guests</p>
          </div>
          
          <div class="space-y-2">
            <div class="text-lamb-green-light font-semibold">Local Information</div>
            <p class="text-gray-200 text-sm">Tourist information and local attraction recommendations</p>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Call to Action -->
    <div class="text-center mt-12">
      <a 
        href="#contact" 
        class="inline-flex items-center space-x-2 bg-lamb-green-light text-lamb-green-dark px-8 py-4 rounded-lg font-semibold text-lg hover:bg-white transform hover:scale-105 transition-all duration-200 shadow-large hover:shadow-xl"
      >
        <span>Book Your Stay Today</span>
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
        </svg>
      </a>
    </div>
  </div>
</section>

<style>
  /* Backdrop blur support */
  .backdrop-blur-sm {
    backdrop-filter: blur(4px);
  }
  
  /* Smooth hover transitions */
  .transform {
    transition: transform 0.3s ease-in-out;
  }
  
  /* Card hover effects */
  .hover\:transform:hover {
    transform: scale(1.05);
  }
  
  /* Icon container animations */
  .w-16.h-16 {
    transition: transform 0.2s ease-in-out;
  }
  
  /* Responsive grid adjustments */
  @media (max-width: 640px) {
    .grid-cols-1 {
      gap: 1.5rem;
    }
  }
</style>